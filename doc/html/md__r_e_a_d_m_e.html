<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ArtCore Compiler: ACompiler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="artSplash.ico"/></td>
  <td id="projectalign">
   <div id="projectname">ArtCore Compiler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ACompiler </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ArtCompiller is part of the ArtEngine system. This program compiles human readable ArtCode scripts in game objects, just like other compilers.<br  />
 ArtCode is custom made script language used in ArtCore games. For more usage examples and game making tutorial visit ArtEditor page.<br  />
 </p><hr  />
 <h1><a class="anchor" id="autotoc_md1"></a>
ArtCore</h1>
<p>ArtCore is 2D game engine, currently for Windows, later Android and Linux. The whole system consists of 3 components: engine, editor and compilator. For more information about engine or editor go to their repositiries.<br  />
</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Compilation</h1>
<p>ArtCore Editor is created in Visual Studio 2022. There is no cmake file to create new projects.<br  />
 Simply clone code and compile or download release. There are no non-standard dependencies.<br  />
 There it is not advisable to run Compiler standalone. Every object must have a specific structure. ArtEditor cares to properly write objects.<br  />
 For debug step-by-step run with debugger there is a solution. Create a directory "debug_input", insert "AScript.lib" and a custom write object with ".acp" extension. Run with "-debug" command line option to load from debug_input directory.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Program usage</h1>
<p>This program is running from ArtEditor when the game is compiled. Editor sends two types of objects: Instance definitions and Scene definitions.<br  />
 Instance definitions contain variables and events. Scene contains global variables, gui (interface) events, level triggers and global triggers.<br  />
 To compile code it must be written in a special style, more of that later. To run the compilation process open the program with arguments:<br  />
</p><ul>
<li>-lib "path_to_lib" &lt;- this is ArtLib path, file is created by ArtCore and contains all functions with arguments that can be run in game.</li>
<li>-obj "path_to_obj" &lt;- (multiple times) Path to object, every object can be in a separate file or all in one.</li>
<li>-output "path_to_file" &lt;- If there is no error write all code in one binary file.</li>
<li>-q &lt;- Quiet work. Do not write log info, only errors. <br  />
 If some error while compilation occurs Art Compiler tries to say exactly what and where is wrong. Error syntax:<br  />
 Error at line: 'code_line_no' in <a class="el" href="class_object.html">Object</a>: 'object_name' Function: 'function_name' - Message: explain_why_error [in_program_line_number]<br  />
 In editor this error message transfer to Code editor and select wrong line of code.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
ArtCode</h1>
<p>Style of code is like C/Pascal but this is not another code language. This is script language, so syntax can not be complicated. Everything is executed in the same frame except delayed code. For more information go to ArtEditor.<br  />
 Logic and mathematical operators are always 2 chars. You can assign or modify variables by value or function. Arguments in functions can be another function, there is no limit. There is no way to create custom functions for instances but scenes and levels can have custom triggers.<br  />
 Script language is case sensitive, type of value is important too. Every variable must be converted to a good type. In Core there is stack for every variable type so there is no possibility to cast in runtime.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Operators</h2>
<p>Operators work on defined variables. Type variable + operator + value.<br  />
 Value can be a function. For now there is no option to dynamic create variables.<br  />
 There is no option to use single char operators like + or -. If there is a need to make an operation like this use a function. Eg math_sum(a, b)<br  />
 </p>
<h3><a class="anchor" id="autotoc_md6"></a>
Math</h3>
<p>'+=' '-=' '*=' '/=' </p>
<h3><a class="anchor" id="autotoc_md7"></a>
Assign</h3>
<p>':=' </p>
<h3><a class="anchor" id="autotoc_md8"></a>
Compare</h3>
<p>'||' '&amp;&amp;' : only bool<br  />
 '&lt;&lt;' '&gt;&gt;' '&gt;=' '&lt;=' : only int, float<br  />
 '!=' '==' : object, asset, color, string<br  />
 </p>
<h2><a class="anchor" id="autotoc_md9"></a>
Functions</h2>
<p><a class="el" href="classfunction.html">function(arg0, arg1)</a> function(10, 20.8, "text") <a class="el" href="classfunction.html">function( function2(10) )</a> </p>
<h2><a class="anchor" id="autotoc_md10"></a>
Conditions</h2>
<p>if( bool ) ... else ... end</p>
<p>if( value/function/variable == value/function/variable ) ... end</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Types</h2>
<p>"null" &lt;- works as NULL, nullptr, void.<br  />
 "int", "float" &lt;- numeric variables. For float there is normal float precision 0.00000f<br  />
 "bool" &lt;- true/false/0/1<br  />
 "instance" &lt;- reference to spawned instance<br  />
 "object", "sprite", "texture", "sound", "music", "font" &lt;- reference to type, it's expensive to receive but operation is cheap<br  />
 "point" &lt;- Point structure, have x and y (float). Can be write as x.x:y.y<br  />
 "rectangle" &lt;- Rectangle structure, function argument tell that it contains x1,y1,x2,y2 or x,y,width,height. It is float type but works with int too.<br  />
 "color" &lt;- Hex color value, starts with # can be RGB or RGBA. Every value is from 00 to FF (0-255)<br  />
 "string" &lt;- Normal string variable. Can be 0 length but can not be null.<br  />
</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Reference (other)</h2>
<p>Only in OnCollision events Other token works. Syntax is: other(object_type).variable<br  />
 This is only possible reference to another object, there is no possible way to call instance.something<br  />
 Every instance 'see' another type instances variables.<br  />
 Work in progress.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Loops and labels</h2>
<p>Work in progress.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Dynamic variables</h2>
<p>Variables can be defined only in definition of object.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Code structure, syntax</h2>
<p>Every object must be written in a specific key.<br  />
 Every function must end with @end, this is exit function singt.<br  />
 In if&lsquo;s there are two options: if(condition) ... end or if(condition) ... else ... end<br  />
 There is no need to write semicons &rsquo;;'<br  />
 Code allows you to comment by // in every place in line. There is no way to multiline comment like /* */<br  />
 Every object definition syntax: object [name] ... @end<br  />
 Every variable definition syntax: keyword local [type] [name]<br  />
 Every function must have object_name:function_name<br  />
 DEF_VALUES is a special event generated by ArtEditor. More for events in ArtEditor documentation<br  />
 <br  />
 Example code sample:<br  />
 </p><pre class="fragment">object &lt;object_name&gt;
object obj_ball
    // variables
    local &lt;type&gt; &lt;name&gt;
    local int Live
    local point Target
    local texture Texture
    // all events in this object
    define EvDraw
    define EvOnViewLeave
    define EvStep
@end

function obj_ball:DEF_VALUES
    instance_set_body_circle(12.0f)
    Point := new_point(10,20)
    Texture := assets_get_texture("texture")
    Live := 10
@end

function obj_ball:EvDraw
    //EvDraw
    draw_sprite_self()
@end

function obj_ball:EvOnViewLeave
    //EvOnViewLeave
    code_execute_trigger("scene&amp;create_ball")
    instance_delete_self()
@end

function obj_ball:EvOnCollision
    //EvOnCollision
    if(get_pos_x() &gt;&gt; 10)
        collision_bounce()
        if(collision_get_collider_name() == "obj_enemy")
            Life -= other(obj_enemy).Damage
            instance_delete_other(collision_get_collider())
        end
    end
@end
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
